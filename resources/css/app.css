@import "tailwindcss";

@source '../views';
@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';

@layer base {
    :root,
    :root[data-theme='light'] {
        --color-primary: oklch(0.63 0.20 265);
        --color-secondary: oklch(0.72 0.14 202);
        --color-accent: oklch(0.78 0.18 145);
        --color-neutral: oklch(0.35 0.03 255);
        --color-base-100: oklch(0.98 0.01 300);
        --color-base-200: oklch(0.94 0.01 300);
        --color-base-300: oklch(0.88 0.01 300);
        --color-gray-200: oklch(0.88 0.02 255);
        --color-info: oklch(0.74 0.15 231);
        --color-success: oklch(0.67 0.12 166);
        --color-warning: oklch(0.82 0.16 75);
        --color-error: oklch(0.60 0.20 28);
        --radius-btn: 0.625rem;
        --radius-box: 1.25rem;
        --shadow-card: 0 12px 30px rgba(15, 23, 42, 0.08);
    }

    :root[data-theme='dark'] {
        --color-primary: oklch(0.72 0.14 265);
        --color-secondary: oklch(0.68 0.12 202);
        --color-accent: oklch(0.72 0.16 145);
        --color-neutral: oklch(0.24 0.03 255);
        --color-base-100: oklch(0.24 0.01 240);
        --color-base-200: oklch(0.19 0.01 240);
        --color-base-300: oklch(0.14 0.01 240);
        --color-gray-200: oklch(0.30 0.01 240);
        --color-info: oklch(0.66 0.14 231);
        --color-success: oklch(0.60 0.11 166);
        --color-warning: oklch(0.71 0.15 75);
        --color-error: oklch(0.54 0.18 28);
        --shadow-card: 0 16px 36px rgba(0, 0, 0, 0.45);
    }

    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentColor);
    }
    body {
        font-family: 'Instrument Sans', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background-color: var(--color-base-200);
    }
}

/* Accessibility improvements */
@layer utilities {
    .focus-visible:focus-visible {
        @apply outline-2 outline-offset-2 outline-blue-600 dark:outline-blue-400;
    }

    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    /* Skip link for keyboard navigation */
    .skip-link {
        @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded;
    }

    [x-cloak] {
        display: none !important;
    }
}

@layer components {
    .learning-graph-rich-text {
        @apply space-y-3 text-sm leading-relaxed text-slate-600 dark:text-slate-300;
    }

    .learning-graph-rich-text p,
    .learning-graph-rich-text ul,
    .learning-graph-rich-text ol {
        @apply text-sm leading-relaxed text-slate-700 dark:text-slate-200;
    }

    .learning-graph-rich-text ul,
    .learning-graph-rich-text ol {
        @apply pl-5 space-y-2;
    }

    .learning-graph-rich-text li {
        @apply list-disc marker:text-slate-400 dark:marker:text-slate-500;
    }

    .learning-graph-rich-text a {
        @apply font-medium text-blue-600 underline underline-offset-4 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300;
    }

    .learning-graph-rich-text h1,
    .learning-graph-rich-text h2,
    .learning-graph-rich-text h3 {
        @apply text-base font-semibold text-slate-800 dark:text-white;
    }

    .learning-graph-rich-text code {
        @apply rounded bg-slate-100 px-1.5 py-0.5 font-mono text-xs text-slate-800 dark:bg-slate-700 dark:text-slate-100;
    }
}
